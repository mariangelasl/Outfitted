<a [routerLink]="['/closet', closetId]" class="btn btn-link">&larr;Volver</a>

<h3 class="fill-remaining-space mt-3">Editar prenda</h3>

<div class="container mt-4">
  <form [formGroup]="myForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data"> 

    <div class="form-group mb-3">
        <label>Imagen actual:</label><br>
        <img [src]="imagenActualUrl" class="img-thumbnail" style="max-height: 200px;" alt="Imagen actual de la prenda">
    </div>
      
    <div class="form-group mb-3">
        <label for="nuevaImagen" class="form-label">Cambiar imagen (opcional)</label>
        <input type="file" class="form-control" id="nuevaImagen" (change)="archivar($event)">
    </div>

    <div class="form-group mb-3">
        <label for="color" class="form-label">Color:</label>
        <input type="text" class="form-control" id="color" formControlName="color" aria-label="Elige el color de tu prenda">
    </div>

    <span  *ngIf="this.myForm.get('color')?.errors?.['required']">
      Debe rellenar este campo
    </span>

    <div class="form-group mb-3">
      <label for="categoria_id" class="form-label">Categoría:</label>
      <select class="form-select" formControlName="categoria_id" aria-label="Lista de categorias" required>
        <option *ngFor="let categoria of categorias" [value]="categoria.id"> 
            {{categoria.nombre}}
          </option>
      </select>
    </div>

    <span  *ngIf="this.myForm.get('categoria_id')?.errors?.['required']">
      Debe seleccionar una opcion
    </span>

    <div class="form-group mb-3">
        <label for="temporada_id">Temporada:</label>
        <select class="form-select" formControlName="temporada_id" aria-label="Lista de estaciones del año" required>
          <option *ngFor="let temporada of temporadas" [value]="temporada.id"> 
              {{temporada.nombre}}
            </option>
        </select>
    </div>

    <span  *ngIf="this.myForm.get('temporada_id')?.errors?.['required']">
      Debe seleccionar una opcion
    </span>

      <div class="form-group mb-3">
        <label for="estilo_id">Estilo:</label>
        <select class="form-select" formControlName="estilo_id" aria-label="Lista de estilos para la prenda" required>
           <option *ngFor="let estilo of estilos" [value]="estilo.id"> 
              {{estilo.nombre}}
            </option>
        </select>
      </div>
    
      <span  *ngIf="this.myForm.get('estilo_id')?.errors?.['required']">
        Debe seleccionar una opcion
      </span>
      
    <button type="submit" class="btn btn-primary" id="prenda_create">Editar</button>
 </form>
</div>

<div *ngIf="errorMessage" class="alert alert-danger mt-3">
  {{ errorMessage }}
</div>




